.text
       ADR PROGRAM
PROGRAM:
A0:
       TST ".DATA"
       jne A1
       LB
       CL ".data"
       OUT
A2:
       JMP DATA_DEFINITION
       jne A3
A3:
       je A4
       JMP COMMENT
       jne A5
A5:
A4:
       je A2
       SET
       BE
A1:
A6:
       jne A7
A7:
       je A8
       TST ".SYNTAX"
       jne A9
       ID
       BE
       LB
       CL ".text"
       OUT
       CL "ADR "
       CI
       OUT
A10:
       JMP DEFINITION
       jne A11
A11:
       je A12
       JMP COMMENT
       jne A13
A13:
A12:
       je A10
       SET
       BE
       TST ".END"
       BE
       CL "END"
       OUT
A9:
A14:
       jne A15
A15:
A8:
       je A0
       SET
       jne A16
       LB
       CL ".bss"
       OUT
       CL "output_string resb 500"
       OUT
A16:
A17:
       R
DATA_DEFINITION:
       ID
       jne A18
       LB
       CL "    "
       CI
       CL ":"
       OUT
       TST "="
       BE
       JMP DATA_TYPE
       BE
       TST ";"
       BE
A18:
A19:
       R
DATA_TYPE:
       SR
       jne A20
       CL "string "
       CI
       OUT
A20:
       je A21
       NUM
       jne A22
       CL "number "
       CI
       OUT
A22:
A21:
       R
OUT1:
       TST "*1"
       jne A23
       CL "GN1"
       OUT
A23:
       je A24
       TST "*2"
       jne A25
       CL "GN2"
       OUT
A25:
       je A24
       TST "*"
       jne A26
       CL "CI"
       OUT
A26:
       je A24
       SR
       jne A27
       CL "mov [output_string] dword "
       CI
       OUT
       CL "mov edi, 0x01"
       OUT
       CL "mov eax, 0x04"
       OUT
       CL "mov esi, [output_string]"
       OUT
       CL "int 0x80"
       OUT
A27:
       je A24
       TST "["
       jne A28
       ID
       BE
       CL "mov eax, ["
       CI
       CL "]"
       OUT
       TST "]"
       BE
A28:
A24:
       R
OUTPUT:
       TST "->"
       jne A29
       TST "("
       BE
A30:
       JMP OUT1
       je A30
       SET
       BE
       TST ")"
       BE
A29:
       je A31
       TST ".LABEL"
       jne A32
       CL "LB"
       OUT
       TST "("
       BE
A33:
       JMP OUT1
       je A33
       SET
       BE
       TST ")"
       BE
A32:
A31:
       jne A34
       CL "OUT"
       OUT
A34:
A35:
       R
EX3:
       ID
       jne A36
       CL "JMP "
       CI
       OUT
A36:
       je A37
       SR
       jne A38
       CL "TST "
       CI
       OUT
A38:
       je A37
       TST ".ID"
       jne A39
       CL "ID"
       OUT
A39:
       je A37
       TST ".RET"
       jne A40
       CL "R"
       OUT
A40:
       je A37
       TST ".NOT"
       jne A41
       SR
       BE
       CL "NOT "
       CI
       OUT
A41:
       je A37
       TST ".NUMBER"
       jne A42
       CL "NUM"
       OUT
A42:
       je A37
       TST ".STRING"
       jne A43
       CL "SR"
       OUT
A43:
       je A37
       TST "("
       jne A44
       JMP EX1
       BE
       TST ")"
       BE
A44:
       je A37
       TST ".EMPTY"
       jne A45
       CL "SET"
       OUT
A45:
       je A37
       TST "$"
       jne A46
       LB
       GN1
       CL ":"
       OUT
       JMP EX3
       BE
       CL "je "
       GN1
       OUT
       CL "SET"
       OUT
A46:
A37:
       R
EX2:
       JMP EX3
       jne A47
       CL "jne "
       GN1
       OUT
A47:
       je A48
       JMP OUTPUT
       jne A49
A49:
A48:
       jne A50
A51:
       JMP EX3
       jne A52
       CL "BE"
       OUT
A52:
       je A53
       JMP OUTPUT
       jne A54
A54:
A53:
       je A51
       SET
       BE
       LB
       GN1
       CL ":"
       OUT
A50:
A55:
       R
EX1:
       JMP EX2
       jne A56
A57:
       TST "|"
       jne A58
       CL "je "
       GN1
       OUT
       JMP EX2
       BE
A58:
       je A59
       JMP COMMENT
       jne A60
A60:
A59:
       je A57
       SET
       BE
       LB
       GN1
       CL ":"
       OUT
A56:
A61:
       R
DEFINITION:
       ID
       jne A62
       LB
       CI
       CL ":"
       OUT
       TST "="
       BE
       JMP EX1
       BE
       TST ";"
       BE
       CL "R"
       OUT
A62:
A63:
       R
COMMENT:
       TST "/*"
       jne A64
       NOT "*/"
       BE
       TST "*/"
       BE
A64:
A65:
       R
       END
.bss
       output_string resb 500