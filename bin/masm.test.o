       USE CURRENT_ADDRESS
       USE LABELS
       USE STACK
       INIT ARRAY 
       ADR PROGRAM
PROGRAM
A0 
       JMP INSTR
       BF A1 
A1 
       BT A2 
       JMP LABEL
       BF A3 
A3 
A2 
       BT A0 
       SET 
       BF A4 
A4 
A5 
       R 
LABEL
       ID 
       BF A6 
       CIOUT 
       BE 
       TST ":"
       BE 
       BE 
A6 
A7 
       R 
REGISTER
       TST "r1"
       BF A8 
A8 
A9 
       R 
INSTR
       TST "mov"
       BF A10 
       JMP REGISTER
       BE 
       TST ","
       BE 
       JMP LITERAL
       BE 
       BE 
A10 
       BT A11 
       TST "push"
       BF A12 
       JMP REGISTER
       BF A13 
       BE 
       CL "0x18"
       OUT 
A13 
       BT A14 
       JMP LITERAL
       BF A15 
       BE 
       CL "0x17"
       OUT 
A15 
A14 
       BE 
A12 
       BT A11 
       TST "pop"
       BF A16 
A16 
A11 
       R 
LITERAL
       TST "$"
       BF A17 
       HEX 
       BE 
A17 
A18 
       R 
MEM_LOC
       TST "&"
       BF A19 
       HEX 
       BE 
A19 
A20 
       R 
       END 
       